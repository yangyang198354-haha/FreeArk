# Windows终端显示乱码解决方案

## 问题原因

经过分析，您遇到的终端乱码问题主要有两个原因：

1. **Python脚本缺少os模块导入**：bill_collector.py文件中使用了os.path.join()函数，但没有导入os模块，导致程序运行失败

2. **终端编码不匹配**：Python程序输出的中文与Windows终端的默认编码不一致

## 已修复内容

1. 在bill_collector.py中添加了缺失的os模块导入

2. 在bill_collector.py中添加了编码设置代码，强制stdout和stderr使用UTF-8编码

3. 修改了run_bill_collector.bat文件，使用相对路径(%~dp0)代替硬编码的绝对路径，使其能在任意位置运行

4. 创建了test_encoding.bat测试文件，用于测试终端编码和中文显示

## 如何测试和使用

1. 双击运行test_encoding.bat文件，检查中文显示是否正常

2. 双击运行run_bill_collector.bat文件，现在应该能正常运行并显示中文输出

3. 如果仍然有乱码问题，请尝试在命令提示符窗口中先运行：`chcp 65001`，然后再运行批处理文件

## 其他建议

- 对于所有批处理文件，建议使用文本编辑器(如Notepad++)以UTF-8编码保存
- 对于Python脚本，可以在文件开头添加编码声明：`# -*- coding: utf-8 -*-`
- 可以考虑使用Windows Terminal代替传统的命令提示符，它对UTF-8编码有更好的支持